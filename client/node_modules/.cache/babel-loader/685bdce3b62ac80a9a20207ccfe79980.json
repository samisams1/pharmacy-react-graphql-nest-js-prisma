{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject,\n  _jsxFileName = \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/src/components/scensComponents/account/IsAuthenticated.tsx\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nexport var IS_LOGGED_IN = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\nquery{\\n  me{\\n    username\\n    firstName\\n  }\\n}\\n\"])));\nfunction IsAuthenticated(_ref) {\n  var children = _ref.children;\n  var _useQuery = useQuery(IS_LOGGED_IN),\n    loading = _useQuery.loading,\n    error = _useQuery.error,\n    data = _useQuery.data;\n  var navigate = useNavigate();\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 25\n    }\n  }, \"Loading...\");\n  console.log(data);\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 16\n    }\n  }, error.message);\n  if (!data.me) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, navigate(\"/\"));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n}\nexport default IsAuthenticated;","map":{"version":3,"names":["gql","useQuery","React","useNavigate","IS_LOGGED_IN","_templateObject","_taggedTemplateLiteral","IsAuthenticated","_ref","children","_useQuery","loading","error","data","navigate","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","console","log","message","me","Fragment"],"sources":["/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/src/components/scensComponents/account/IsAuthenticated.tsx"],"sourcesContent":["import { gql, useQuery } from \"@apollo/client\"\nimport React from \"react\"\nimport { useNavigate } from \"react-router-dom\";\n\n\nexport const IS_LOGGED_IN = gql`\nquery{\n  me{\n    username\n    firstName\n  }\n}\n`\n\ninterface Props {\n    children?: React.ReactNode\n}\n\nfunction IsAuthenticated({ children }: Props) {\n    const { loading, error, data } = useQuery(IS_LOGGED_IN)\n\n    const navigate = useNavigate();\n    if (loading) return <p>Loading...</p>\n    console.log(data);\n    if (error)\n        return <p>{error.message}</p>\n\n    if (!data.me) {\n        return <>{navigate(\"/\")}</>\n        \n    }\n\n    return <>{children}</>\n}\n\nexport default IsAuthenticated"],"mappings":";;;AAAA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,gBAAgB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAG9C,OAAO,IAAMC,YAAY,GAAGJ,GAAG,CAAAK,eAAA,KAAAA,eAAA,GAAAC,sBAAA,8DAO9B;AAMD,SAASC,eAAeA,CAAAC,IAAA,EAAsB;EAAA,IAAnBC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAAA,IAAAC,SAAA,GACET,QAAQ,CAACG,YAAY,CAAC;IAA/CO,OAAO,GAAAD,SAAA,CAAPC,OAAO;IAAEC,KAAK,GAAAF,SAAA,CAALE,KAAK;IAAEC,IAAI,GAAAH,SAAA,CAAJG,IAAI;EAE5B,IAAMC,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,IAAIQ,OAAO,EAAE,oBAAOT,KAAA,CAAAa,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,YAAa,CAAC;EACrCC,OAAO,CAACC,GAAG,CAACV,IAAI,CAAC;EACjB,IAAID,KAAK,EACL,oBAAOV,KAAA,CAAAa,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAIT,KAAK,CAACY,OAAW,CAAC;EAEjC,IAAI,CAACX,IAAI,CAACY,EAAE,EAAE;IACV,oBAAOvB,KAAA,CAAAa,aAAA,CAAAb,KAAA,CAAAwB,QAAA,QAAGZ,QAAQ,CAAC,GAAG,CAAI,CAAC;EAE/B;EAEA,oBAAOZ,KAAA,CAAAa,aAAA,CAAAb,KAAA,CAAAwB,QAAA,QAAGjB,QAAW,CAAC;AAC1B;AAEA,eAAeF,eAAe"},"metadata":{},"sourceType":"module"}