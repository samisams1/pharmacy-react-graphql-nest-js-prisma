{"ast":null,"code":"import _objectSpread from \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/src/components/scensComponents/user/userForm.tsx\";\nimport React from 'react';\nimport { Grid } from '@mui/material';\nimport { Form, useForm } from '../../useForm';\nimport Controls from '../../Controls';\nimport { useMutation } from '@apollo/client';\nimport { CREATE_USER, USER_QUERY } from '../../../graphql/Users';\nexport var UserForm = function UserForm(_ref) {\n  var roleId = _ref.roleId;\n  var _useMutation = useMutation(CREATE_USER, {\n      refetchQueries: [{\n        query: USER_QUERY\n      }]\n    }),\n    _useMutation2 = _slicedToArray(_useMutation, 1),\n    createProfile = _useMutation2[0];\n  var initialFValues = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phoneNumber: '',\n    password: '',\n    roleId: roleId\n  };\n  var validate = function validate() {\n    var fieldValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : values;\n    var temp = _objectSpread({}, errors);\n    if ('firstName' in fieldValues) temp.firstName = fieldValues.firstName ? '' : 'This field is required.';\n    if ('lastName' in fieldValues) temp.lastName = fieldValues.lastName ? '' : 'This field is required.';\n    if ('email' in fieldValues) temp.email = fieldValues.email ? '' : 'This field is required.';\n    if ('phoneNumber' in fieldValues) temp.phoneNumber = fieldValues.phoneNumber ? '' : 'This field is required.';\n    if ('password' in fieldValues) temp.password = fieldValues.password ? '' : 'This field is required.';\n    setErrors(_objectSpread({}, temp));\n    //  setMessage('');\n    return fieldValues === values ? Object.values(temp).every(function (x) {\n      return x === '';\n    }) : false;\n  };\n  var _useForm = useForm(initialFValues, true, validate),\n    values = _useForm.values,\n    errors = _useForm.errors,\n    setErrors = _useForm.setErrors,\n    handleInputChange = _useForm.handleInputChange,\n    resetForm = _useForm.resetForm;\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    if (validate()) {\n      //  saveService(values);\n      createProfile({\n        variables: values\n      });\n      console.log(values);\n      resetForm();\n    }\n  };\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"firstName\",\n    label: \"FirstName\",\n    value: values.firstName,\n    onChange: handleInputChange,\n    error: errors.firstName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"lastName\",\n    label: \"LastName\",\n    value: values.lastName,\n    onChange: handleInputChange,\n    error: errors.lastName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"email\",\n    label: \"Email\",\n    value: values.email,\n    onChange: handleInputChange,\n    error: errors.email,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"phoneNumber\",\n    label: \"PhoneNumber\",\n    value: values.phoneNumber,\n    onChange: handleInputChange,\n    error: errors.phoneNumber,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"password\",\n    label: \"Password\",\n    value: values.password,\n    onChange: handleInputChange,\n    error: errors.password,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"confirmpassword\",\n    label: \"Confirm Password\",\n    value: values.password,\n    onChange: handleInputChange,\n    error: errors.password,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Controls.Button, {\n    type: \"submit\",\n    text: \"Submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Button, {\n    text: \"Reset\",\n    color: \"default\"\n    //onClick={resetForm}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }))))));\n};","map":{"version":3,"names":["React","Grid","Form","useForm","Controls","useMutation","CREATE_USER","USER_QUERY","UserForm","_ref","roleId","_useMutation","refetchQueries","query","_useMutation2","_slicedToArray","createProfile","initialFValues","firstName","lastName","email","phoneNumber","password","validate","fieldValues","arguments","length","undefined","values","temp","_objectSpread","errors","setErrors","Object","every","x","_useForm","handleInputChange","resetForm","handleSubmit","e","preventDefault","variables","console","log","createElement","onSubmit","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","container","item","xs","Input","name","label","value","onChange","error","Button","type","text","color"],"sources":["/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/src/components/scensComponents/user/userForm.tsx"],"sourcesContent":["import React from 'react'\nimport { Grid } from '@mui/material'\nimport { Form, useForm } from '../../useForm';\nimport Controls from '../../Controls';\nimport { userInterface } from '../../../interface/interfaces';\nimport { useMutation } from '@apollo/client';\nimport Button from '../../Button';\nimport { CREATE_USER, USER_QUERY } from '../../../graphql/Users';\n\ninterface Props {\n\troleId: number\n}\n\nexport const UserForm = ({roleId}:Props) => {\n  const [createProfile] = useMutation(CREATE_USER, {\n    refetchQueries: [{ query: USER_QUERY }],\n  })\n  const initialFValues: userInterface = {\n    firstName: '',\n    lastName:'',\n    email: '',\n    phoneNumber:'',\n    password:'',\n    roleId:roleId\n  };\n  const validate = (fieldValues: userInterface = values): boolean => {\n    let temp:userInterface = { ...errors };\n    if ('firstName' in fieldValues) temp.firstName = fieldValues.firstName ? '' : 'This field is required.';\n    if ('lastName' in fieldValues)  temp.lastName =  fieldValues.lastName ? '' : 'This field is required.';\n    if ('email' in fieldValues) temp.email = fieldValues.email ? '' : 'This field is required.';\n    if ('phoneNumber' in fieldValues) temp.phoneNumber = fieldValues.phoneNumber ? '' : 'This field is required.';\n    if ('password' in fieldValues) temp.password = fieldValues.password ? '' : 'This field is required.';\n    \n    setErrors({\n      ...temp\n    });\n    //  setMessage('');\n    return fieldValues === values ? Object.values(temp).every(x => x === '') : false;\n};\n\n  const { values, errors, setErrors, handleInputChange, resetForm }:any = useForm(initialFValues, true, validate);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (validate()) {\n    //  saveService(values);\n    createProfile({\n      variables: values,\n    })\n      console.log(values);\n      resetForm();\n    }\n  };\n  return (\n     <Form onSubmit={handleSubmit}>\n      <Grid container>\n      <Grid item xs={6}>\n      <Controls.Input\n                name=\"firstName\"\n                label=\"FirstName\"\n                value={values.firstName }\n                onChange={handleInputChange}\n                error={errors.firstName}\n            />\n       <Controls.Input\n                name=\"lastName\"\n                label=\"LastName\"\n               value={values.lastName }\n                onChange={handleInputChange}\n                error={errors.lastName}\n            />\n       <Controls.Input\n                name=\"email\"\n                label=\"Email\"\n                value={values.email }\n                onChange={handleInputChange}\n                error={errors.email}\n            />\n            </Grid>\n            <Grid item xs={6}>\n     <Controls.Input\n                name=\"phoneNumber\"\n                label=\"PhoneNumber\"\n                value={values.phoneNumber }\n                onChange={handleInputChange}\n                error={errors.phoneNumber}\n            />\n       <Controls.Input\n                name=\"password\"\n                label=\"Password\"\n                value={values.password }\n                onChange={handleInputChange}\n                error={errors.password}\n            />\n        <Controls.Input\n                name=\"confirmpassword\"\n                label=\"Confirm Password\"\n                value={values.password }\n                onChange={handleInputChange}\n                error={errors.password}\n            />\n      <Grid>\n      <div>\n                        <Controls.Button\n                            type=\"submit\"\n                            text=\"Submit\" />\n                        <Controls.Button\n                            text=\"Reset\"\n                            color=\"default\"\n                            //onClick={resetForm}\n                             />\n                    </div>\n      </Grid>\n     \n       </Grid>\n      </Grid>     \n      </Form>\n  )\n}\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}