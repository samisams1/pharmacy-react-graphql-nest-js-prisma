{"ast":null,"code":"import _objectSpread from \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/src/components/scensComponents/account/changePassword/ChangePassword.tsx\";\nimport React from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Grid } from '@mui/material';\nimport { USER_QUERY } from '../../../../graphql/Users';\nimport { CHANGE_PASSWORD } from '../../../../graphql/Profile';\nimport { Form, useForm } from '../../../useForm';\nimport Controls from '../../../Controls';\nimport Button from '../../../Button';\nvar ChangeNewPassword = function ChangeNewPassword() {\n  var _useMutation = useMutation(CHANGE_PASSWORD, {\n      refetchQueries: [{\n        query: USER_QUERY\n      }]\n    }),\n    _useMutation2 = _slicedToArray(_useMutation, 1),\n    createProfile = _useMutation2[0];\n  var initialFValues = {\n    oldPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  };\n  var validate = function validate() {\n    var fieldValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : values;\n    var temp = _objectSpread({}, errors);\n    if ('oldPassword' in fieldValues) temp.oldPassword = fieldValues.oldPassword ? '' : 'This field is required.';\n    if ('newPassword' in fieldValues) temp.newPassword = fieldValues.newPassword ? '' : 'This field is required.';\n    if ('confirmPassword' in fieldValues) temp.confirmPassword = fieldValues.confirmPassword ? '' : 'This field is required.';\n    setErrors(_objectSpread({}, temp));\n    //  setMessage('');\n    return fieldValues === values ? Object.values(temp).every(function (x) {\n      return x === '';\n    }) : false;\n  };\n  var _useForm = useForm(initialFValues, true, validate),\n    values = _useForm.values,\n    errors = _useForm.errors,\n    setErrors = _useForm.setErrors,\n    handleInputChange = _useForm.handleInputChange,\n    resetForm = _useForm.resetForm;\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    if (validate()) {\n      createProfile({\n        variables: values\n      });\n      console.log(values);\n      resetForm();\n    }\n  };\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"oldPassword\",\n    label: \"oldPassword\",\n    value: values.oldPassword,\n    onChange: handleInputChange,\n    error: errors.oldPassword,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"newPassword\",\n    label: \"newPassword\",\n    value: values.newPassword,\n    onChange: handleInputChange,\n    error: errors.newPassword,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Input, {\n    name: \"confirmPassword\",\n    label: \"confirmPassword\",\n    value: values.confirmPassword,\n    onChange: handleInputChange,\n    error: errors.confirmPassword,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    text: \"Submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    text: \"Reset\"\n    // onClick={resetForm}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  })))));\n};\nexport default ChangeNewPassword;","map":{"version":3,"names":["React","useMutation","Grid","USER_QUERY","CHANGE_PASSWORD","Form","useForm","Controls","Button","ChangeNewPassword","_useMutation","refetchQueries","query","_useMutation2","_slicedToArray","createProfile","initialFValues","oldPassword","newPassword","confirmPassword","validate","fieldValues","arguments","length","undefined","values","temp","_objectSpread","errors","setErrors","Object","every","x","_useForm","handleInputChange","resetForm","handleSubmit","e","preventDefault","variables","console","log","createElement","onSubmit","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","container","item","xs","Input","name","label","value","onChange","error","type","text"],"sources":["/home/samisams/TURING PROJET/PROJECTS/pharmacy/client/src/components/scensComponents/account/changePassword/ChangePassword.tsx"],"sourcesContent":["import React from 'react'\nimport { useMutation } from '@apollo/client'\nimport { Grid } from '@mui/material';\nimport { USER_QUERY } from '../../../../graphql/Users';\nimport { CHANGE_PASSWORD } from '../../../../graphql/Profile';\nimport { Form, useForm } from '../../../useForm';\nimport Controls from '../../../Controls';\nimport Button from '../../../Button';\nexport interface changePass {\n  oldPassword?: string;\n  newPassword?: string;\n  confirmPassword?: string;\n}\nconst ChangeNewPassword = () => {\n  const [createProfile] = useMutation(CHANGE_PASSWORD, {\n    refetchQueries: [{ query:USER_QUERY }],\n  })\n  const initialFValues: changePass = {\n    oldPassword: '',\n    newPassword:'',\n    confirmPassword:''\n  };\n  const validate = (fieldValues: changePass = values): boolean => {\n    let temp:changePass = { ...errors };\n    if ('oldPassword' in fieldValues) temp.oldPassword = fieldValues.oldPassword ? '' : 'This field is required.';\n    if ('newPassword' in fieldValues)  temp.newPassword =  fieldValues.newPassword ? '' : 'This field is required.';\n    if ('confirmPassword' in fieldValues) temp.confirmPassword = fieldValues.confirmPassword ? '' : 'This field is required.';\n    setErrors({\n      ...temp\n    });\n    //  setMessage('');\n    return fieldValues === values ? Object.values(temp).every(x => x === '') : false;\n};\n  const { values, errors, setErrors, handleInputChange, resetForm }:any = useForm(initialFValues, true, validate);\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (validate()) {\n    createProfile({\n      variables: values,\n    })\n      console.log(values);\n      resetForm();\n    }\n  };\n  return (\n    <Form onSubmit={handleSubmit}>\n     <Grid container>\n     <Grid item xs={12}>\n     <Grid item xs={6}>\n     <Controls.Input\n               name=\"oldPassword\"\n               label=\"oldPassword\"\n               value={values.oldPassword }\n               onChange={handleInputChange}\n               error={errors.oldPassword}\n           />\n      <Controls.Input\n               name=\"newPassword\"\n               label=\"newPassword\"\n              value={values.newPassword }\n               onChange={handleInputChange}\n               error={errors.newPassword}\n           />\n      <Controls.Input\n               name=\"confirmPassword\"\n               label=\"confirmPassword\"\n               value={values.confirmPassword }\n               onChange={handleInputChange}\n               error={errors.confirmPassword}\n           />\n     </Grid>\n     <Grid>\n     <Button\n       type=\"submit\"\n       text=\"Submit\" />\n        <Button\n         text=\"Reset\"\n        // onClick={resetForm}\n         />\n     </Grid>\n    \n      </Grid>\n     </Grid>     \n     </Form>\n )\n}\n\nexport default ChangeNewPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}